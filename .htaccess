Options -Indexes
Options +FollowSymLinks

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    # Éviter la boucle infinie si déjà dans /public
    RewriteCond %{REQUEST_URI} ^/public/ [OR]
    RewriteCond %{REQUEST_URI} ^/public$
    RewriteRule ^ - [L]

    # Servir les assets statiques existants dans public/
    RewriteCond %{DOCUMENT_ROOT}/public%{REQUEST_URI} -f
    RewriteRule ^(.*)$ public/$1 [L]

    # Tout le reste → index.php de Symfony
    RewriteRule ^ public/index.php [L]
</IfModule>
